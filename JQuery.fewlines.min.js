!function(e){"use strict";function n(n,i){function r(){v.$cont.find("a").remove(),v.text=v.$cont.text(),v.$el=e("<span/>").css(v.$cont.css(["font-size","font-weight","font-family"])),v.$el.text(v.text),v.$cont.empty().append(v.$el),p()}function p(){f=v.$cont.height(),v.opts.lines<1&&v.$el.prop("scrollHeight")<=f||h&&(d=e.trim(v.text).split(/\s+/),o='<span style="'+e(o).css(v.$cont.css(["font-size","font-weight"])).attr("style")+'">',v.$el.html(o+d.join("</span> "+o)+"</span>"),v.$el.find("span").each(h),null!=u&&a(u))}function a(n){k=d.slice(0,n).join(" "),M=" "+d.slice(n).join(" "),v.$hidePart=e("<span>").hide().text(M),v.$openMark=e("<span>"+v.opts.openMark+"</span>"),v.opts.noAction||(v.opts.showOnMouseOver?(v.$openMark=e("<a href='#'>"+v.opts.openMark+"</a>"),v.$openMark.bind("mouseover",function(e){return e.preventDefault(),c()}),v.$cont.bind("mouseleave",function(){return l()})):(v.$openMark=e("<a href='#'>"+v.opts.openMark+"</a>"),v.$openMark.bind("click",function(e){return e.preventDefault(),c()}),v.$closeMark=e("<a href='#'>"+v.opts.closeMark+"</a>").hide(),v.$closeMark.bind("click",function(e){return e.preventDefault(),l()}))),v.opts.newLine&&v.openMark.css({display:"block"}),v.$cont.text(k).append(v.$openMark).append(v.$hidePart),v.opts.showOnMouseOver||v.opts.noAction||v.$cont.append(v.$closeMark);var t=e("<div>x</div>").css({position:"absolute",left:0,top:"-3000px",visibility:"hidden"}).width(v.$el.width()).css(e(v.$el).css(["font-size","font-weight","font-family"])).appendTo("body"),o=parseInt(v.$cont.height()/t.height());o>v.opts.lines&&a(n-1),t.remove()}function c(){return v.$openMark.hide(),v.$hidePart.show(),v.opts.showOnMouseOver||v.$closeMark.css("display","block"),!0}function l(){return v.$openMark.show(),v.$hidePart.hide(),v.opts.showOnMouseOver||v.$closeMark.hide(),!0}var h,u,$,f,d,M,k,v=this,w=0,y=[];if(v.$cont=e(n),v.opts=e.extend({},s,i),"number"==typeof v.opts.lines&&v.opts.lines>0){var m=function(n,t){var o=e(t),s=o.position().top;return s!==$&&($=s,w+=1),w>v.opts.lines?(u=n,!1):void 0};h=m}if(v.opts.responsive){var x=function(){y=[],w=0,$=null,u=null,v.$el.html(v.text),v.$cont.empty().append(v.$el),p()};e(window).on("resize."+t,x)}r()}var t="fewlines",o='<span style="white-space: nowrap;">',s={lines:"2",responsive:!1,closeMark:"close",openMark:"...",newLine:!1,showOnMouseOver:!1,noAction:!1};jQuery.fn.fewlines=function(o){return this.each(function(){try{e(this).data(t,new n(this,o))}catch(s){window.console&&console.error(t+": "+s)}})}}(jQuery);